<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Äî Darkspace Escape</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <header><h1 class="page-title neon">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h1></header>
  <main class="settings-container">
    <div class="settings-section">
      <h3 class="settings-title">üîä –ê—É–¥—ñ–æ</h3>
      <div class="setting-item">
        <label class="setting-label">
          <span>–ì—É—á–Ω—ñ—Å—Ç—å –º—É–∑–∏–∫–∏:</span>
          <span id="musicVolValue" class="setting-value">60%</span>
        </label>
        <input id="musicVol" type="range" min="0" max="100" value="60" class="setting-slider">
      </div>
      <div class="setting-item">
        <label class="setting-label">
          <span>–ì—É—á–Ω—ñ—Å—Ç—å –µ—Ñ–µ–∫—Ç—ñ–≤:</span>
          <span id="sfxVolValue" class="setting-value">80%</span>
        </label>
        <input id="sfxVol" type="range" min="0" max="100" value="80" class="setting-slider">
      </div>
    </div>

    <div class="settings-section">
      <h3 class="settings-title">üéÆ –Ü–≥—Ä–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h3>
      <div class="setting-item">
        <label class="setting-label">
          <span>–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:</span>
        </label>
        <select id="difficulty" class="setting-select">
          <option value="easy">–õ–µ–≥–∫–∞</option>
          <option value="normal" selected>–ù–æ—Ä–º–∞–ª—å–Ω–∞</option>
          <option value="hard">–°–∫–ª–∞–¥–Ω–∞</option>
        </select>
      </div>
      <div class="setting-item">
        <label class="setting-label">
          <span>–®–≤–∏–¥–∫—ñ—Å—Ç—å —Ä—É—Ö—É –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:</span>
          <span id="playerSpeedValue" class="setting-value">260</span>
        </label>
        <input id="playerSpeed" type="range" min="180" max="350" value="260" step="10" class="setting-slider">
      </div>
      <div class="setting-item">
        <label class="setting-label">
          <span>–ß–∞—Å—Ç–æ—Ç–∞ –ø–æ—è–≤–∏ –∞—Å—Ç–µ—Ä–æ—ó–¥—ñ–≤:</span>
          <span id="asteroidFreqValue" class="setting-value">700–º—Å</span>
        </label>
        <input id="asteroidFreq" type="range" min="400" max="1200" value="700" step="50" class="setting-slider">
      </div>
    </div>

    <div class="settings-section">
      <h3 class="settings-title">‚öôÔ∏è –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å</h3>
      <div class="setting-item">
        <label class="setting-checkbox">
          <input id="showFps" type="checkbox">
          <span>–ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ FPS (–¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)</span>
        </label>
      </div>
      <div class="setting-item">
        <label class="setting-checkbox">
          <input id="fullscreen" type="checkbox">
          <span>–ü–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π —Ä–µ–∂–∏–º (–ø—Ä–∏ –∑–∞–ø—É—Å–∫—É –≥—Ä–∏)</span>
        </label>
      </div>
    </div>

    <div class="settings-actions">
      <button id="saveSettings" class="select-btn">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button>
      <button onclick="location.href='index.html'" class="select-btn" style="background:#444;margin-left:8px">‚Üê –ù–∞–∑–∞–¥</button>
    </div>
  </main>

<script>
// –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å–ª–∞–π–¥–µ—Ä—ñ–≤
document.getElementById('musicVol').addEventListener('input', (e) => {
  document.getElementById('musicVolValue').textContent = e.target.value + '%';
});
document.getElementById('sfxVol').addEventListener('input', (e) => {
  document.getElementById('sfxVolValue').textContent = e.target.value + '%';
});
document.getElementById('playerSpeed').addEventListener('input', (e) => {
  document.getElementById('playerSpeedValue').textContent = e.target.value;
});
document.getElementById('asteroidFreq').addEventListener('input', (e) => {
  document.getElementById('asteroidFreqValue').textContent = e.target.value + '–º—Å';
});

document.getElementById('saveSettings').addEventListener('click', () => {
  const settings = {
    musicVol: +document.getElementById('musicVol').value,
    sfxVol: +document.getElementById('sfxVol').value,
    difficulty: document.getElementById('difficulty').value,
    playerSpeed: +document.getElementById('playerSpeed').value,
    asteroidFreq: +document.getElementById('asteroidFreq').value,
    showFps: document.getElementById('showFps').checked,
    fullscreen: document.getElementById('fullscreen').checked
  };
  localStorage.setItem('DSE_settings', JSON.stringify(settings));
  
  // –ó–º—ñ–Ω–∏—Ç–∏ –∫–Ω–æ–ø–∫—É –Ω–∞ –∑–µ–ª–µ–Ω–∏–π –∫–æ–ª—ñ—Ä –∑ —Ç–µ–∫—Å—Ç–æ–º "–ó–º—ñ–Ω–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ"
  const saveBtn = document.getElementById('saveSettings');
  const originalText = saveBtn.textContent;
  saveBtn.textContent = '‚úì –ó–º—ñ–Ω–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ';
  saveBtn.style.background = 'linear-gradient(90deg, #2d7a2d, #4caf50)';
  saveBtn.style.cursor = 'default';
  
  // –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –≤–∏–≥–ª—è–¥ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥–∏
  setTimeout(() => {
    saveBtn.textContent = originalText;
    saveBtn.style.background = '';
    saveBtn.style.cursor = 'pointer';
  }, 3000);
});

// –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
(function load() {
  const s = localStorage.getItem('DSE_settings');
  if (!s) return;
  const cfg = JSON.parse(s);
  document.getElementById('musicVol').value = cfg.musicVol ?? 60;
  document.getElementById('musicVolValue').textContent = (cfg.musicVol ?? 60) + '%';
  document.getElementById('sfxVol').value = cfg.sfxVol ?? 80;
  document.getElementById('sfxVolValue').textContent = (cfg.sfxVol ?? 80) + '%';
  document.getElementById('difficulty').value = cfg.difficulty ?? 'normal';
  document.getElementById('playerSpeed').value = cfg.playerSpeed ?? 260;
  document.getElementById('playerSpeedValue').textContent = cfg.playerSpeed ?? 260;
  document.getElementById('asteroidFreq').value = cfg.asteroidFreq ?? 700;
  document.getElementById('asteroidFreqValue').textContent = (cfg.asteroidFreq ?? 700) + '–º—Å';
  document.getElementById('showFps').checked = cfg.showFps ?? false;
  document.getElementById('fullscreen').checked = cfg.fullscreen ?? false;
})();
</script>
</body>
</html>
